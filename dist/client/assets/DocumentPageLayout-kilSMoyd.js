import{r as N,j as t,a5 as _}from"./index-6p6AKDyn.js";import{D as I,e as k,h as w}from"./index-B_I_kZhs.js";const h=794,u=1123,i=3.78,E={portada:"Portada",intermedia:"Contenido",contraportada:"Contraportada"};function C(a){const s=[];let e={blocks:[]};for(const n of a)n.type==="section_separator"?((e.blocks.length>0||e.separator)&&s.push(e),e={separator:n,blocks:[]}):e.blocks.push(n);return(e.blocks.length>0||e.separator)&&s.push(e),s}function T(a){const s=[],e=[],n=[];let o=!1;for(const r of a)I.has(r.type)?(r.type==="back_cover"&&(o=!0),(k[r.type]||"top")==="bottom"?n.push(r):s.push(r)):e.push(r);return{topChrome:s,content:e,bottomChrome:n,hasBackCover:o}}function H(a,s){const e=[];let n;for(const o of a)o._source==="component"&&o._componenteInformeId!==void 0&&o._componenteInformeId!==n&&(n=o._componenteInformeId,e.push(t.jsxs("div",{className:"w-full flex items-center gap-2 py-2 px-1 my-1",children:[t.jsx(w,{className:"h-3.5 w-3.5 text-blue-500"}),t.jsx("span",{className:"text-xs font-medium text-blue-600",children:o._componenteEtiqueta}),t.jsx("div",{className:"flex-1 border-t border-blue-200"})]},`comp-sep-${o._componenteInformeId}`))),e.push(t.jsx(_.Fragment,{children:s(o)},o.id));return e}function D({blocks:a,pageConfig:s,renderBlock:e}){const n=N.useMemo(()=>C(a),[a]),o=s.orientation==="portrait",r=o?h:u,m=o?u:h,b=s.margins.top*i,v=s.margins.right*i,y=s.margins.bottom*i,g=s.margins.left*i;return t.jsx("div",{className:"flex flex-col items-center gap-8",children:n.map((c,j)=>{const{topChrome:d,content:f,bottomChrome:p,hasBackCover:x}=T(c.blocks);return t.jsxs("div",{className:"flex flex-col items-center w-full gap-3",children:[c.separator&&t.jsxs("div",{className:"w-full flex items-center gap-2 py-2",style:{maxWidth:r},children:[t.jsx("div",{className:"flex-1 border-t-2 border-dashed border-gray-300"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:E[c.separator.config.section]??c.separator.config.section}),t.jsx("div",{className:"flex-1 border-t-2 border-dashed border-gray-300"})]}),t.jsx("div",{className:"bg-white shadow-lg border overflow-hidden",style:{width:r,minHeight:m,fontSize:`${s.fontSize}px`,fontFamily:s.fontFamily?`"${s.fontFamily}", sans-serif`:void 0},children:t.jsxs("div",{className:"flex flex-col",style:{minHeight:m},children:[d.length>0&&t.jsx("div",{className:x?"flex flex-col flex-1":"shrink-0",children:d.map(l=>t.jsx("div",{className:`w-full ${x&&l.type==="back_cover"?"flex-1 flex flex-col":""}`,children:e(l)},l.id))}),!x&&f.length>0&&t.jsx("div",{style:{flex:"1 1 0%",display:"flex",flexDirection:"column",padding:`${d.length>0?8:b}px ${v}px ${p.length>0?8:y}px ${g}px`},children:t.jsx("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start"},children:H(f,e)})}),p.length>0&&t.jsx("div",{className:"shrink-0 mt-auto",children:p.map(l=>t.jsx("div",{className:"w-full",children:e(l)},l.id))})]})})]},j)})})}export{D};
